{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/pandemicpanda30/Desktop/imagekit-wallpaper-store/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///home/pandemicpanda30/Desktop/imagekit-wallpaper-store/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///home/pandemicpanda30/Desktop/imagekit-wallpaper-store/src/components/uploadFile.tsx"],"sourcesContent":["\"use client\" // This component must be a client component\n\nimport {\n    ImageKitAbortError,\n    ImageKitInvalidRequestError,\n    ImageKitServerError,\n    ImageKitUploadNetworkError,\n    upload,\n} from \"@imagekit/next\";\nimport { useRef, useState } from \"react\";\nimport { Button } from \"./ui/button\";\nimport { File } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\n// UploadExample component demonstrates file uploading using ImageKit's Next.js SDK.\nconst UploadFile = () => {\n    // State to keep track of the current upload progress (percentage)\n    const [progress, setProgress] = useState(0);\n\n    // Create a ref for the file input element to access its files easily\n    const fileInputRef = useRef<HTMLInputElement>(null);\n\n    // Create an AbortController instance to provide an option to cancel the upload if needed.\n    const abortController = new AbortController();\n\n    /**\n     * Authenticates and retrieves the necessary upload credentials from the server.\n     *\n     * This function calls the authentication API endpoint to receive upload parameters like signature,\n     * expire time, token, and publicKey.\n     *\n     * @returns {Promise<{signature: string, expire: string, token: string, publicKey: string}>} The authentication parameters.\n     * @throws {Error} Throws an error if the authentication request fails.\n     */\n    const authenticator = async () => {\n        try {\n            // Perform the request to the upload authentication endpoint.\n            const response = await fetch(\"/api/upload-auth\");\n            if (!response.ok) {\n                // If the server response is not successful, extract the error text for debugging.\n                const errorText = await response.text();\n                throw new Error(`Request failed with status ${response.status}: ${errorText}`);\n            }\n\n            // Parse and destructure the response JSON for upload credentials.\n            const data = await response.json();\n            const { signature, expire, token, publicKey } = data;\n            return { signature, expire, token, publicKey };\n        } catch (error) {\n            // Log the original error for debugging before rethrowing a new error.\n            console.error(\"Authentication error:\", error);\n            throw new Error(\"Authentication request failed\");\n        }\n    };\n\n    /**\n     * Handles the file upload process.\n     *\n     * This function:\n     * - Validates file selection.\n     * - Retrieves upload authentication credentials.\n     * - Initiates the file upload via the ImageKit SDK.\n     * - Updates the upload progress.\n     * - Catches and processes errors accordingly.\n     */\n    const handleUpload = async () => {\n        // Access the file input element using the ref\n        const fileInput = fileInputRef.current;\n        if (!fileInput || !fileInput.files || fileInput.files.length === 0) {\n            toast(\"Please select a file to upload\");\n            return;\n        }\n\n        // Extract the first file from the file input\n        const file = fileInput.files[0];\n        const allowedImageTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n        if(!allowedImageTypes.includes(file.type)){\n            return toast(\"file should be an image type\")\n        }\n\n        if(file.size > 5 * 1024 * 1024){\n            return toast(\"File size cannot exceed 5 MB\")\n        }\n\n        // Retrieve authentication parameters for the upload.\n        let authParams;\n        try {\n            authParams = await authenticator();\n        } catch (authError) {\n            console.error(\"Failed to authenticate for upload:\", authError);\n            router\n            return;\n        }\n        const { signature, expire, token, publicKey } = authParams;\n\n        // Call the ImageKit SDK upload function with the required parameters and callbacks.\n        try {\n            const uploadResponse = await upload({\n                // Authentication parameters\n                expire,\n                token,\n                signature,\n                publicKey,\n                file,\n                fileName: file.name, // Optionally set a custom file name\n                // Progress callback to update upload progress state\n                onProgress: (event) => {\n                    setProgress((event.loaded / event.total) * 100);\n                },\n                // Abort signal to allow cancellation of the upload if needed.\n                abortSignal: abortController.signal,\n            });\n            console.log(\"Upload response:\", uploadResponse);\n        } catch (error) {\n            // Handle specific error types provided by the ImageKit SDK.\n            if (error instanceof ImageKitAbortError) {\n                console.error(\"Upload aborted:\", error.reason);\n            } else if (error instanceof ImageKitInvalidRequestError) {\n                console.error(\"Invalid request:\", error.message);\n            } else if (error instanceof ImageKitUploadNetworkError) {\n                console.error(\"Network error:\", error.message);\n            } else if (error instanceof ImageKitServerError) {\n                console.error(\"Server error:\", error.message);\n            } else {\n                // Handle any other errors that may occur.\n                console.error(\"Upload error:\", error);\n            }\n        }\n    };\n\n    return (\n        <div className=\"bg-stone-200 p-3 rounded-lg\">\n            {/* File input element using React ref */}\n            <File className=\"p-1 mx-2 w-6 h-6\" />\n            <input className=\"p-1 m-2 rounded-lg hover:cursor-pointer hover:font-semibold border-2 border-black border-dashed\"\n                type=\"file\" ref={fileInputRef} />\n            {/* Button to trigger the upload process */}\n            <Button type=\"button\" onClick={handleUpload} className=\"hover:cursor-pointer\">\n                Upload file\n            </Button>\n            <br />\n            {/* Display the current upload progress */}\n            <div className=\"m-2 p-1 flex items-center gap-3\">\n                <span>Upload progress: </span>\n                <progress value={progress} max={100}></progress>\n            </div>\n        </div>\n    );\n};\n\nexport default UploadFile;"],"names":[],"mappings":"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","debugId":null}}]
}